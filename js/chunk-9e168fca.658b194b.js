(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e168fca"],{1344:function(e,t,n){"use strict";t["a"]=function(e){return{all:e=e||new Map,on:function(t,n){var c=e.get(t);c?c.push(n):e.set(t,[n])},off:function(t,n){var c=e.get(t);c&&(n?c.splice(c.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var c=e.get(t);c&&c.slice().map((function(e){e(n)})),(c=e.get("*"))&&c.slice().map((function(e){e(t,n)}))}}}},"1dde":function(e,t,n){var c=n("d039"),o=n("b622"),r=n("2d00"),a=o("species");e.exports=function(e){return r>=51||!c((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"46f4":function(e,t,n){},"4de4":function(e,t,n){"use strict";var c=n("23e7"),o=n("b727").filter,r=n("1dde"),a=r("filter");c({target:"Array",proto:!0,forced:!a},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"6be2":function(e,t,n){"use strict";var c=n("1344"),o=Object(c["a"])();t["a"]=o},"729e":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o=function(e){return Object(c["pushScopeId"])("data-v-25916494"),e=e(),Object(c["popScopeId"])(),e},r={class:"row product"},a={class:"product-left col-lg-7 col-md-6"},i=["src"],d={class:"product-right col-lg-5 col-md-6"},l={class:"d-flex justify-content-between mx-2"},s=["onClick"],u={class:"mt-3"},m={class:"d-flex justify-content-between"},f=["onClick"],b={class:"goal mx-3 d-flex"},p=o((function(){return Object(c["createElementVNode"])("div",{class:"circle d-flex justify-content-center align-items-center"},[Object(c["createElementVNode"])("div",{style:{color:"#51c951"}},"40%")],-1)})),h={class:"mx-4"},O={style:{"font-size":"1rem","font-weight":"bold"}},j=Object(c["createTextVNode"])(" 目前數量"),g=o((function(){return Object(c["createElementVNode"])("span",{class:"mx-2"},"75",-1)})),v={style:{"font-size":"0.75rem"}},N=Object(c["createTextVNode"])(" 需求數量"),E={class:"mx-2"},y={class:"d-flex",style:{margin:"30px 10px","border-bottom":"1px solid #ccc","padding-bottom":"10px"}},x={class:"mx-5"},V={class:"input-group"},I=["disabled"],k={class:"mainIntro col-12"},w=o((function(){return Object(c["createElementVNode"])("div",{class:"col-12 d-flex justify-content-center paw"},[Object(c["createElementVNode"])("img",{src:"https://imgur.com/v6RZO4g.jpg",alt:"狗掌印"})],-1)})),S={class:"introText"},B=Object(c["createTextVNode"])(" 地址："),C=Object(c["createTextVNode"])(" 電話："),D=["src"];function P(e,t,n,o,P,F){var T=Object(c["resolveComponent"])("loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createVNode"])(T,{active:P.isLoading},null,8,["active"]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(P.introProduct,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"container product-wrap",key:e.id},[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",a,[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("img",{class:"w-100",src:e.imageUrl,alt:"中途之家主圖"},null,8,i)])]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("h5",null,Object(c["toDisplayString"])(e.category),1),Object(c["createElementVNode"])("div",{class:"addFav",onClick:function(t){return F.switchHeart(e)}},[Object(c["createElementVNode"])("i",{class:Object(c["normalizeClass"])(F.changeIcon)},null,2)],8,s)]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(P.sortProduct,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"product-option",key:e.id},[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("button",{type:"button",class:Object(c["normalizeClass"])(["button-38",{active:P.activeName==e.title}]),role:"button",onClick:function(t){return F.clickedItem(e,e.title)}},Object(c["toDisplayString"])(e.title),11,f),Object(c["createElementVNode"])("div",b,[p,Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",O,[j,g,Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.unit),1)]),Object(c["createElementVNode"])("div",v,[N,Object(c["createElementVNode"])("span",E,Object(c["toDisplayString"])(e.requiredQty),1),Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.unit),1)])])])])])])})),128)),Object(c["createElementVNode"])("div",y,[Object(c["createElementVNode"])("h5",null,"NT."+Object(c["toDisplayString"])(P.donateItem.price),1),Object(c["createElementVNode"])("h5",x,"/ "+Object(c["toDisplayString"])(P.donateItem.unit),1)]),Object(c["createElementVNode"])("div",V,[Object(c["createElementVNode"])("button",{type:"button",class:"btn down",onClick:t[0]||(t[0]=function(){return F.btnMinus&&F.btnMinus.apply(F,arguments)})},"-"),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"text-center quantity","onUpdate:modelValue":t[1]||(t[1]=function(e){return P.donateItem.num=e})},null,512),[[c["vModelText"],P.donateItem.num]]),Object(c["createElementVNode"])("button",{type:"button",class:"btn up",onClick:t[2]||(t[2]=function(){return F.btnPlus&&F.btnPlus.apply(F,arguments)})},"+")]),Object(c["createElementVNode"])("button",{disabled:!0===P.disabled,type:"button",class:"addCart",onClick:t[3]||(t[3]=function(e){return F.addtoCart()})}," 加入購物車 ",8,I)])]),Object(c["createElementVNode"])("div",k,[w,Object(c["createElementVNode"])("div",S,[Object(c["createElementVNode"])("p",null,[B,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.location),1)]),Object(c["createElementVNode"])("p",null,[C,Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.tel),1)]),Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(e.content),1)]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.imagesUrl,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"introPics",key:t},[Object(c["createElementVNode"])("img",{src:e,alt:"中途之家環境照"},null,8,D)])})),128))])])})),128))])}n("99af"),n("d3b7"),n("159b"),n("4de4"),n("c740"),n("e9c4"),n("a434");var F=n("6be2"),T={data:function(){return{isLoading:!1,disabled:!1,products:[],shelterName:"",hearted:JSON.parse(localStorage.getItem("hearted"))||[],sortProduct:[],introProduct:[],donateItem:{num:"1"},activeName:"罐罐",sortArea:[],index:"",orders:[]}},methods:{getProduct:function(){var e=this,t=this;t.shelterName=this.$route.params.id;var n="".concat("https://vue3-course-api.hexschool.io/v2/","/api/").concat("houhsuan","/products/all");this.isLoading=!0,this.$http.get(n).then((function(n){e.isLoading=!1,t.products=n.data.products,t.products.forEach((function(e){e.category===t.shelterName&&(t.sortProduct.push(e),t.donateItem=t.sortProduct[0],t.donateItem.num=1)})),t.sortProduct.forEach((function(e){1===e.introFile&&t.introProduct.push(e)})),t.sortArea=t.products.filter((function(e){if(1===e.introFile&&e.area===t.donateItem.area)return e.id!==t.donateItem.id})),console.log(t.sortArea)}))},clickedItem:function(e,t){this.donateItem=e,this.donateItem.num=1,this.activeName=t},btnPlus:function(){this.donateItem.num++},btnMinus:function(){this.donateItem.num<2?this.donateItem.num=1:this.donateItem.num--},switchHeart:function(e){this.hearted=JSON.parse(localStorage.getItem("hearted"))||[],this.index=this.hearted.findIndex((function(t){return e.category===t})),-1===this.hearted.indexOf(e.category)?(this.hearted.push(e.category),localStorage.setItem("hearted",JSON.stringify(this.hearted))):(this.hearted.splice(this.index,1),localStorage.setItem("hearted",JSON.stringify(this.hearted)))},addtoCart:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/v2/","/api/").concat("houhsuan","/cart");this.disabled=!0;var n={product_id:this.donateItem.id,qty:this.donateItem.num};this.$http.post(t,{data:n}).then((function(t){e.disabled=!1,F["a"].emit("get-cart");var n=e.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!1,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}});n.fire({icon:"success",title:"已加入購物車"})}))}},computed:{changeIcon:function(){return-1===this.hearted.indexOf(this.shelterName)?"icon bi-suit-heart-fill heart":"icon bi-suit-heart-fill hearted"}},mounted:function(){this.getProduct()}},A=(n("9314"),n("d959")),L=n.n(A);const M=L()(T,[["render",P],["__scopeId","data-v-25916494"]]);t["default"]=M},8418:function(e,t,n){"use strict";var c=n("a04b"),o=n("9bf2"),r=n("5c6c");e.exports=function(e,t,n){var a=c(t);a in e?o.f(e,a,r(0,n)):e[a]=n}},9314:function(e,t,n){"use strict";n("46f4")},"99af":function(e,t,n){"use strict";var c=n("23e7"),o=n("da84"),r=n("d039"),a=n("e8b5"),i=n("861d"),d=n("7b0b"),l=n("07fa"),s=n("8418"),u=n("65f0"),m=n("1dde"),f=n("b622"),b=n("2d00"),p=f("isConcatSpreadable"),h=9007199254740991,O="Maximum allowed index exceeded",j=o.TypeError,g=b>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=m("concat"),N=function(e){if(!i(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},E=!g||!v;c({target:"Array",proto:!0,forced:E},{concat:function(e){var t,n,c,o,r,a=d(this),i=u(a,0),m=0;for(t=-1,c=arguments.length;t<c;t++)if(r=-1===t?a:arguments[t],N(r)){if(o=l(r),m+o>h)throw j(O);for(n=0;n<o;n++,m++)n in r&&s(i,m,r[n])}else{if(m>=h)throw j(O);s(i,m++,r)}return i.length=m,i}})},a434:function(e,t,n){"use strict";var c=n("23e7"),o=n("da84"),r=n("23cb"),a=n("5926"),i=n("07fa"),d=n("7b0b"),l=n("65f0"),s=n("8418"),u=n("1dde"),m=u("splice"),f=o.TypeError,b=Math.max,p=Math.min,h=9007199254740991,O="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var n,c,o,u,m,j,g=d(this),v=i(g),N=r(e,v),E=arguments.length;if(0===E?n=c=0:1===E?(n=0,c=v-N):(n=E-2,c=p(b(a(t),0),v-N)),v+n-c>h)throw f(O);for(o=l(g,c),u=0;u<c;u++)m=N+u,m in g&&s(o,u,g[m]);if(o.length=c,n<c){for(u=N;u<v-c;u++)m=u+c,j=u+n,m in g?g[j]=g[m]:delete g[j];for(u=v;u>v-c+n;u--)delete g[u-1]}else if(n>c)for(u=v-c;u>N;u--)m=u+c-1,j=u+n-1,m in g?g[j]=g[m]:delete g[j];for(u=0;u<n;u++)g[u+N]=arguments[u+2];return g.length=v-c+n,o}})},c740:function(e,t,n){"use strict";var c=n("23e7"),o=n("b727").findIndex,r=n("44d2"),a="findIndex",i=!0;a in[]&&Array(1)[a]((function(){i=!1})),c({target:"Array",proto:!0,forced:i},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r(a)},e9c4:function(e,t,n){var c=n("23e7"),o=n("da84"),r=n("d066"),a=n("2ba4"),i=n("e330"),d=n("d039"),l=o.Array,s=r("JSON","stringify"),u=i(/./.exec),m=i("".charAt),f=i("".charCodeAt),b=i("".replace),p=i(1..toString),h=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,j=/^[\uDC00-\uDFFF]$/,g=function(e,t,n){var c=m(n,t-1),o=m(n,t+1);return u(O,e)&&!u(j,o)||u(j,e)&&!u(O,c)?"\\u"+p(f(e,0),16):e},v=d((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&c({target:"JSON",stat:!0,forced:v},{stringify:function(e,t,n){for(var c=0,o=arguments.length,r=l(o);c<o;c++)r[c]=arguments[c];var i=a(s,null,r);return"string"==typeof i?b(i,h,g):i}})}}]);
//# sourceMappingURL=chunk-9e168fca.658b194b.js.map